use lang:bs:effects;
use lang:bs:macro;
use test;

effect: Int myEffect(Int x);

handler: Float MyHandler(Int) {
	myEffect(Int x), k {
		x.float;
	}
	return x {
		(x + 1).float;
	}
}

suite Basic {
	Float w = handle {
		Int x = myEffect(10);
		x + 10;
	} with MyHandler;

	test w == 11.0;
	print("Result: ${w}");
}
